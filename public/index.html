<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>Azizi Chat</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- ุฑุจุท ููู ุงูุชูุณููุงุช -->
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="app-container">
    <div class="app-inner">

      <div class="content">
        <!-- LOGIN -->
        <div id="loginSection" class="auth-wrapper">
          <div class="auth-card">
            <div class="auth-header">
              <div class="auth-logo">๐ฌ</div>
              <div>
                <h2 class="auth-title">Azizi Chat</h2>
                <p class="auth-subtitle">ุณุฌู ุงูุฏุฎูู ุฃู ุฃูุดุฆ ุญุณุงุจูุง ุฌุฏูุฏูุง ููุจุฏุก ูู ุงูุฏุฑุฏุดุฉ</p>
              </div>
            </div>
            <div id="authAlert" class="auth-alert" style="display:none;"></div>


            <!-- ุฃุฒุฑุงุฑ ุงูุชุจููุจ: ุชุณุฌูู ุฏุฎูู / ุฅูุดุงุก ุญุณุงุจ -->
            <div class="auth-tabs">
              <button type="button" class="auth-tab auth-tab-active" data-tab="login">
                ุชุณุฌูู ุฏุฎูู
              </button>
              <button type="button" class="auth-tab" data-tab="register">
                ุฅูุดุงุก ุญุณุงุจ ุฌุฏูุฏ
              </button>
            </div>

            <div class="auth-body">
              <!-- ููุญุฉ ุชุณุฌูู ุงูุฏุฎูู -->
              <div class="auth-panel auth-panel-active" data-panel="login">
                <label class="auth-label" for="loginIdentifier">
                  ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ุฃู ุงุณู ุงููุณุชุฎุฏู:
                </label>
                <input
                  type="text"
                  id="loginIdentifier"
                  class="auth-input"
                  placeholder="ุงูุชุจ ุจุฑูุฏู ุงูุฅููุชุฑููู ุฃู ุงุณู ุงููุณุชุฎุฏู"
                >

                <label class="auth-label" for="loginPassword">
                  ูููุฉ ุงููุฑูุฑ:
                </label>
                <input
                  type="password"
                  id="loginPassword"
                  class="auth-input"
                  placeholder="ุงูุชุจ ูููุฉ ุงููุฑูุฑ"
                >

                <button type="button" class="btn btn-main auth-submit" id="btnLogin">
                  ุชุณุฌูู ุงูุฏุฎูู
                </button>
              </div>

              <!-- ููุญุฉ ุฅูุดุงุก ุญุณุงุจ ุฌุฏูุฏ -->
              <div class="auth-panel" data-panel="register">
                <label class="auth-label" for="regUsername">
                  ุงุณู ุงููุณุชุฎุฏู:
                </label>
                <input
                  type="text"
                  id="regUsername"
                  class="auth-input"
                  placeholder="ุงุฎุชุฑ ุงุณู ุงููุณุชุฎุฏู"
                >

                <label class="auth-label" for="regEmail">
                  ุงูุจุฑูุฏ ุงูุฅููุชุฑููู:
                </label>
                <input
                  type="email"
                  id="regEmail"
                  class="auth-input"
                  placeholder="example@mail.com"
                >

                <label class="auth-label" for="regPassword">
                  ูููุฉ ุงููุฑูุฑ:
                </label>
                <input
                  type="password"
                  id="regPassword"
                  class="auth-input"
                  placeholder="ูููุฉ ุงููุฑูุฑ (6 ุฃุญุฑู ุนูู ุงูุฃูู)"
                >

                <button type="button" class="btn btn-main auth-submit" id="btnRegister">
                  ุฅูุดุงุก ุงูุญุณุงุจ
                </button>
              </div>
            </div>

            <!-- ุตูุฏูู ุชูุนูู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู -->
            <div id="verifyBox" class="verify-box" style="display: none;">
              <p class="verify-title">ุชู ุฅูุดุงุก ุงูุญุณุงุจ ๐</p>
              <p class="verify-text">
                ุชู ุฅุฑุณุงู ููุฏ ุชูุนูู ุฅูู ุจุฑูุฏู ุงูุฅููุชุฑููู.
                <br>
                ุฃุฏุฎู ุงูููุฏ ููุง ูุชูุนูู ุญุณุงุจู ููุชุงุจุนุฉ ุงูุฏุฎูู ุฅูู ุงูุดุงุช.
              </p>

              <label class="auth-label" for="verifyCode">
                ููุฏ ุงูุชูุนูู:
              </label>
              <input
                type="text"
                id="verifyCode"
                class="auth-input"
                placeholder="ูุซุงู: 123456"
              >

              <button type="button" class="btn btn-main auth-submit" id="btnVerifyCode">
                ุชูุนูู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูุงูุฏุฎูู
              </button>

              <p class="verify-hint">
                ูู ูุตูู ุงูููุฏุ ุชููุฏ ูุฌูุฏ ุงูุฑุณุงุฆู ุบูุฑ ุงููุฑุบูุจ ูููุง (Spam) ุฃู ุฌุฑูุจ ุจุฑูุฏูุง ุขุฎุฑ.
              </p>

              <!-- ๐น ุนุฏูุงุฏ ุฅุนุงุฏุฉ ุงูุฅุฑุณุงู -->
              <p class="verify-timer" id="verifyTimer" style="display: none;">
                ููููู ุทูุจ ููุฏ ุฌุฏูุฏ ุจุนุฏ
                <span id="verifyTimerValue">60</span>
                ุซุงููุฉ.
              </p>

              <!-- ๐น ุฒุฑ ุฅุนุงุฏุฉ ุงูุฅุฑุณุงู -->
              <button type="button" class="btn btn-main auth-submit" id="btnResendCode" style="display: none;">
                ุฅุนุงุฏุฉ ุฅุฑุณุงู ุงูููุฏ
              </button>

              <button type="button" class="btn auth-back" id="btnBackToRegister">
                โฌ ุงูุฑุฌูุน ูุชุนุฏูู ุงูุจูุงูุงุช
              </button>
            </div>


            <p class="auth-footer-text">
              ุจุนุฏ ุชุณุฌูู ุงูุฏุฎููุ ููููู ุงุฎุชูุงุฑ ุฃู ูุณุชุฎุฏู ูู ุงููุงุฆูุฉ ุฃุนูู ุตูุญุฉ ุงูุดุงุช ููุชุญุฏุซ ูุนู.
            </p>
          </div>
        </div>

        <!-- CHAT -->
        <div id="chatSection">
          <div class="chat-layout">
          <!-- ูุณู ุฅุฏุงุฑุฉ ุฌูุงุช ุงูุงุชุตุงู -->
          <div class="contacts-section">
            <div class="contacts-tabs">
              <button class="contacts-tab contacts-tab-active" data-tab="contacts">ุฌูุงุช ุงูุงุชุตุงู</button>
              <button class="contacts-tab" data-tab="add-contact">ุฅุถุงูุฉ ุฌูุฉ ุงุชุตุงู</button>
              <button class="contacts-tab" data-tab="requests">ุทูุจุงุช ุงูุตุฏุงูุฉ</button>
            </div>

            <!-- sidebar: ูุงุฆูุฉ ุฌูุงุช ุงูุงุชุตุงู ูุงููุฉ (ุชุดุจู ูุงุชุณุงุจ) -->
            <div class="contacts-panel contacts-panel-active" data-panel="contacts">
              <div class="contacts-search">
                <input type="text" id="contactsSearch" class="auth-input" placeholder="ุงุจุญุซ ูู ุฌูุงุช ุงูุงุชุตุงู">
              </div>
              <div id="contactsList" class="contacts-list">
                <p class="loading-text">ูุง ุชูุฌุฏ ุฌูุงุช ุงุชุตุงู ุจุนุฏ</p>
              </div>
            </div>

            <!-- ุชุจููุจ ุฅุถุงูุฉ ุฌูุฉ ุงุชุตุงู -->
            <div class="contacts-panel" data-panel="add-contact">
              <div class="add-contact-form">
                <h3>ุฅุถุงูุฉ ุฌูุฉ ุงุชุตุงู ุฌุฏูุฏุฉ</h3>
                <label for="newContactUsername">ุงุณู ุงููุณุชุฎุฏู:</label>
                <input type="text" id="newContactUsername" class="auth-input" placeholder="ุฃุฏุฎู ุงุณู ุงููุณุชุฎุฏู">
                <button class="btn btn-main" id="btnSendContactRequest">ุฅุฑุณุงู ุทูุจ ุตุฏุงูุฉ</button>
                <div id="contactRequestMessage" class="contact-message" style="display: none;"></div>
              </div>
            </div>

            <!-- ุชุจููุจ ุทูุจุงุช ุงูุตุฏุงูุฉ -->
            <div class="contacts-panel" data-panel="requests">
              <h3>ุทูุจุงุช ุงูุตุฏุงูุฉ ุงููุงุฑุฏุฉ</h3>
              <div id="pendingRequestsList" class="requests-list">
                <p class="loading-text">ุฌุงุฑู ุงูุชุญููู...</p>
              </div>
            </div>
          </div>

            <div class="main">
            <div class="chat-header" id="chatHeader" style="display:none; padding:10px 14px; border-bottom:1px solid rgba(0,0,0,0.04);">
              <div style="display:flex;flex-direction:row-reverse;align-items:center;gap:12px;">
                <div id="chatHeaderAvatar" class="contact-avatar" style="width:44px;height:44px;font-size:18px;"></div>
                <div style="display:flex;flex-direction:column;align-items:flex-end;">
                  <div id="chatHeaderName" style="font-weight:800;color:#0f172a;font-size:16px;"></div>
                  <div id="chatHeaderStatus" style="font-size:12px;color:#6b7280;margin-top:2px;">ูุชุตู</div>
                </div>
              </div>
            </div>
            <div class="messages" id="messages">
              <p class="no-chat-selected" style="text-align: center; ">ูู ูุชู ุงุฎุชูุงุฑ ุฃู ูุญุงุฏุซุฉ ุจุนุฏ. ุงูุฑุฌุงุก ุงุฎุชูุงุฑ ุฌูุฉ ุงุชุตุงู ูู ุงููุงุฆูุฉ ููุจุฏุก ูู ุงูุฏุฑุฏุดุฉ.</p>
            </div>

            <form id="chatForm" class="input-bar">
              <input type="text" id="message" class="message-input" placeholder="ุงูุชุจ ุฑุณุงูุชู..." required>
              <button type="submit" class="btn btn-main">ุฅุฑุณุงู</button>
            </form>
          </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ุณูุฑุจุช socket.io ูู ุงูุณูุฑูุฑ -->
  <script src="/socket.io/socket.io.js"></script>
  <!-- ุณูุฑุจุช ุงููุงุฌูุฉ ุงูุฃูุงููุฉ -->
  <script src="script.js"></script>
</body>
</html>
